/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-core","jimu-arcgis","esri/layers/GraphicsLayer","esri/widgets/Sketch","esri/layers/FeatureLayer","jimu-ui","jimu-core/react","jimu-core/react-dom"],(function(e,o){var r={},t={},n={},i={},l={},c={},a={},s={};return Object.defineProperty(a,"__esModule",{value:!0}),{setters:[function(e){r.React=e.React},function(e){t.JimuMapViewComponent=e.JimuMapViewComponent},function(e){n.default=e.default},function(e){i.default=e.default},function(e){l.default=e.default},function(e){c.Button=e.Button,c.Label=e.Label,c.Switch=e.Switch,c.Table=e.Table},function(e){Object.keys(e).forEach((function(o){a[o]=e[o]}))},function(e){s.createPortal=e.createPortal}],execute:function(){e((()=>{var e={84786:(e,o,r)=>{"use strict";r.d(o,{Z:()=>c});var t=r(8081),n=r.n(t),i=r(23645),l=r.n(i)()(n());l.push([e.id,"#coustomWidget .grid{height:400px;width:calc(100% - 0.75rem)}\n",""]);const c=l},23645:e=>{"use strict";e.exports=function(e){var o=[];return o.toString=function(){return this.map((function(o){var r="",t=void 0!==o[5];return o[4]&&(r+="@supports (".concat(o[4],") {")),o[2]&&(r+="@media ".concat(o[2]," {")),t&&(r+="@layer".concat(o[5].length>0?" ".concat(o[5]):""," {")),r+=e(o),t&&(r+="}"),o[2]&&(r+="}"),o[4]&&(r+="}"),r})).join("")},o.i=function(e,r,t,n,i){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(t)for(var c=0;c<this.length;c++){var a=this[c][0];null!=a&&(l[a]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);t&&l[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),r&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=r):d[2]=r),n&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=n):d[4]="".concat(n)),o.push(d))}},o}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},93379:e=>{"use strict";var o=[];function r(e){for(var r=-1,t=0;t<o.length;t++)if(o[t].identifier===e){r=t;break}return r}function t(e,t){for(var i={},l=[],c=0;c<e.length;c++){var a=e[c],s=t.base?a[0]+t.base:a[0],d=i[s]||0,u="".concat(s," ").concat(d);i[s]=d+1;var p=r(u),f={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==p)o[p].references++,o[p].updater(f);else{var h=n(f,t);t.byIndex=c,o.splice(c,0,{identifier:u,updater:h,references:1})}l.push(u)}return l}function n(e,o){var r=o.domAPI(o);return r.update(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap&&o.supports===e.supports&&o.layer===e.layer)return;r.update(e=o)}else r.remove()}}e.exports=function(e,n){var i=t(e=e||[],n=n||{});return function(e){e=e||[];for(var l=0;l<i.length;l++){var c=r(i[l]);o[c].references--}for(var a=t(e,n),s=0;s<i.length;s++){var d=r(i[s]);0===o[d].references&&(o[d].updater(),o.splice(d,1))}i=a}}},90569:e=>{"use strict";var o={};e.exports=function(e,r){var t=function(e){if(void 0===o[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}o[e]=r}return o[e]}(e);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(r)}},19216:e=>{"use strict";e.exports=function(e){var o=document.createElement("style");return e.setAttributes(o,e.attributes),e.insert(o,e.options),o}},3565:(e,o,r)=>{"use strict";e.exports=function(e){var o=r.nc;o&&e.setAttribute("nonce",o)}},7795:e=>{"use strict";e.exports=function(e){var o=e.insertStyleElement(e);return{update:function(r){!function(e,o,r){var t="";r.supports&&(t+="@supports (".concat(r.supports,") {")),r.media&&(t+="@media ".concat(r.media," {"));var n=void 0!==r.layer;n&&(t+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),t+=r.css,n&&(t+="}"),r.media&&(t+="}"),r.supports&&(t+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),o.styleTagTransform(t,e,o.options)}(o,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(o)}}}},44589:e=>{"use strict";e.exports=function(e,o){if(o.styleSheet)o.styleSheet.cssText=e;else{for(;o.firstChild;)o.removeChild(o.firstChild);o.appendChild(document.createTextNode(e))}}},33676:e=>{"use strict";var o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function n(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var o={},r=0;r<10;r++)o["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(o).map((function(e){return o[e]})).join(""))return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},t)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var l,c,a=n(e),s=1;s<arguments.length;s++){for(var d in l=Object(arguments[s]))r.call(l,d)&&(a[d]=l[d]);if(o){c=o(l);for(var u=0;u<c.length;u++)t.call(l,c[u])&&(a[c[u]]=l[c[u]])}}return a}},21483:(e,o,r)=>{"use strict";r(33676);var t=r(51315),n=60103;if(o.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var i=Symbol.for;n=i("react.element"),o.Fragment=i("react.fragment")}var l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c=Object.prototype.hasOwnProperty,a={key:!0,ref:!0,__self:!0,__source:!0};function s(e,o,r){var t,i={},s=null,d=null;for(t in void 0!==r&&(s=""+r),void 0!==o.key&&(s=""+o.key),void 0!==o.ref&&(d=o.ref),o)c.call(o,t)&&!a.hasOwnProperty(t)&&(i[t]=o[t]);if(e&&e.defaultProps)for(t in o=e.defaultProps)void 0===i[t]&&(i[t]=o[t]);return{$$typeof:n,type:e,key:s,ref:d,props:i,_owner:l.current}}o.jsx=s,o.jsxs=s},75967:(e,o,r)=>{"use strict";e.exports=r(21483)},79168:e=>{"use strict";e.exports=l},42231:e=>{"use strict";e.exports=n},54560:e=>{"use strict";e.exports=i},26826:e=>{"use strict";e.exports=t},48891:e=>{"use strict";e.exports=r},51315:e=>{"use strict";e.exports=a},20800:e=>{"use strict";e.exports=s},30726:e=>{"use strict";e.exports=c}},o={};function d(r){var t=o[r];if(void 0!==t)return t.exports;var n=o[r]={id:r,exports:{}};return e[r](n,n.exports,d),n.exports}d.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return d.d(o,{a:o}),o},d.d=(e,o)=>{for(var r in o)d.o(o,r)&&!d.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},d.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),d.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.p="",d.nc=void 0;var u={};return d.p=window.jimuConfig.baseUrl,(()=>{"use strict";d.r(u),d.d(u,{default:()=>be});var e=d(48891),o=d(26826),r=d(42231),t=d(54560),n=d(79168),i=d(30726),l=d(51315);function c(e){var o,r,t="";if("string"==typeof e||"number"==typeof e)t+=e;else if("object"==typeof e)if(Array.isArray(e))for(o=0;o<e.length;o++)e[o]&&(r=c(e[o]))&&(t&&(t+=" "),t+=r);else for(o in e)e[o]&&(t&&(t+=" "),t+=o);return t}const a=function(){for(var e,o,r=0,t="";r<arguments.length;)(e=arguments[r++])&&(o=c(e))&&(t&&(t+=" "),t+=o);return t};var s=d(75967),p=d(20800);function f(e,o){void 0===o&&(o={});var r=o.insertAt;if(e&&"undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===r&&t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}f(".c1wupbe700-canary49{contain:strict;contain:size layout style paint;padding:0 8px;border-right:1px solid var(--border-color);border-bottom:1px solid var(--border-color);background-color:inherit;white-space:nowrap;overflow:hidden;overflow:clip;text-overflow:ellipsis}.c1wupbe700-canary49[aria-selected=true]{box-shadow:inset 0 0 0 2px var(--selection-color)}.cd0kgiy700-canary49{position:sticky;z-index:1}.c1730fa4700-canary49{box-shadow:2px 0 5px -2px hsla(0,0%,53.3%,.3)}"),f(".r104f42s700-canary49{--color:#000;--border-color:#ddd;--summary-border-color:#aaa;--background-color:hsl(0deg 0% 100%);--header-background-color:hsl(0deg 0% 97.5%);--row-hover-background-color:hsl(0deg 0% 96%);--row-selected-background-color:hsl(207deg 76% 92%);--row-selected-hover-background-color:hsl(207deg 76% 88%);--checkbox-color:hsl(207deg 100% 29%);--checkbox-focus-color:hsl(207deg 100% 69%);--checkbox-disabled-border-color:#ccc;--checkbox-disabled-background-color:#ddd;--selection-color:#66afe9;--font-size:14px;contain:strict;contain:size layout style paint;content-visibility:auto;height:350px;border:1px solid var(--border-color);box-sizing:border-box;overflow:auto;user-select:none;background-color:var(--background-color);color:var(--color);font-size:var(--font-size)}@supports not (contain:strict){.r104f42s700-canary49{position:relative;z-index:0}}.r104f42s700-canary49 *,.r104f42s700-canary49 :after,.r104f42s700-canary49 :before{box-sizing:inherit}.r104f42s700-canary49.rdg-dark{--color:#ddd;--border-color:#444;--summary-border-color:#555;--background-color:hsl(0deg 0% 13%);--header-background-color:hsl(0deg 0% 10.5%);--row-hover-background-color:hsl(0deg 0% 9%);--row-selected-background-color:hsl(207deg 76% 42%);--row-selected-hover-background-color:hsl(207deg 76% 38%);--checkbox-color:hsl(207deg 100% 79%);--checkbox-focus-color:hsl(207deg 100% 89%);--checkbox-disabled-border-color:#000;--checkbox-disabled-background-color:#333}@media (prefers-color-scheme:dark){.r104f42s700-canary49:not(.rdg-light){--color:#ddd;--border-color:#444;--summary-border-color:#555;--background-color:hsl(0deg 0% 13%);--header-background-color:hsl(0deg 0% 10.5%);--row-hover-background-color:hsl(0deg 0% 9%);--row-selected-background-color:hsl(207deg 76% 42%);--row-selected-hover-background-color:hsl(207deg 76% 38%);--checkbox-color:hsl(207deg 100% 79%);--checkbox-focus-color:hsl(207deg 100% 89%);--checkbox-disabled-border-color:#000;--checkbox-disabled-background-color:#333}}.f7ly7s700-canary49{position:sticky;top:0;left:0;height:0;width:0;outline:0}.vc4f4zb700-canary49.r1otpg64700-canary49{cursor:move}"),f('.g1cvx5us700-canary49:not([aria-selected=true]){background-color:var(--header-background-color)}.g1cvx5us700-canary49>.c1wupbe700-canary49:not(:last-child):not(.c1730fa4700-canary49){border-right:none}.g1j2w62i700-canary49:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;box-shadow:inset 0 0 0 2px var(--selection-color);pointer-events:none;z-index:2}.g1j2w62i700-canary49>.c1wupbe700-canary49:first-child{box-shadow:inset 2px 0 0 0 var(--selection-color)}');const h="rdg-group-row-selected g1j2w62i700-canary49";f(".h1fquj5h700-canary49{contain:strict;contain:size layout style paint;display:grid;grid-template-columns:var(--template-columns);grid-template-rows:var(--header-row-height);height:var(--header-row-height);line-height:var(--header-row-height);width:var(--row-width);position:sticky;top:0;background-color:var(--header-background-color);font-weight:700;z-index:3;touch-action:none}"),f(".r1otpg64700-canary49{contain:strict;contain:size layout style paint;display:grid;grid-template-rows:var(--row-height);grid-template-columns:var(--template-columns);position:absolute;left:0;width:var(--row-width);height:var(--row-height);line-height:var(--row-height);background-color:var(--background-color)}.r1otpg64700-canary49:hover{background-color:var(--row-hover-background-color)}.r1otpg64700-canary49[aria-selected=true]{background-color:var(--row-selected-background-color)}.r1otpg64700-canary49[aria-selected=true]:hover{background-color:var(--row-selected-hover-background-color)}.sel5gk2700-canary49{position:sticky;z-index:3;grid-template-rows:var(--summary-row-height);height:var(--summary-row-height);line-height:var(--summary-row-height)}.sel5gk2700-canary49>.c1wupbe700-canary49{border-top:2px solid var(--summary-border-color)}");const w="rdg-row r1otpg64700-canary49";function g(e){try{return(0,s.jsx)(s.Fragment,{children:e.row[e.column.key]})}catch{return null}}function m({groupKey:e,isExpanded:o,isCellSelected:r,toggleGroup:t}){const n=function(e){const o=(0,l.useRef)(null);return(0,l.useLayoutEffect)((()=>{var r;e&&(null==(r=o.current)||r.focus({preventScroll:!0}))}),[e]),o}(r),i=o?"M1 1 L 7 7 L 13 1":"M1 7 L 7 1 L 13 7";return(0,s.jsxs)("span",{ref:n,className:"rdg-group-cell-content gch972y700-canary49",tabIndex:-1,onKeyDown:function({key:e}){"Enter"===e&&t()},children:[e,(0,s.jsx)("svg",{viewBox:"0 0 14 8",width:"14",height:"8",className:"rdg-caret cz2qf0d700-canary49",children:(0,s.jsx)("path",{d:i})})]})}function x(e,o,r){const t="function"==typeof e.colSpan?e.colSpan(r):1;if(Number.isInteger(t)&&t>1&&(!e.frozen||e.idx+t-1<=o))return t}f('.c1w6d5eo700-canary49{cursor:pointer;display:flex;align-items:center;justify-content:center;position:absolute;top:0;right:0;bottom:0;left:0;margin-right:1px}.c1h7iz8d700-canary49{all:unset;width:0;margin:0}.cc79ydj700-canary49{content:"";width:20px;height:20px;border:2px solid var(--border-color);background-color:var(--background-color)}.c1h7iz8d700-canary49:checked+.cc79ydj700-canary49{background-color:var(--checkbox-color);box-shadow:inset 0 0 0 4px var(--background-color)}.c1h7iz8d700-canary49:focus+.cc79ydj700-canary49{border-color:var(--checkbox-focus-color)}.c1e5jt0b700-canary49{cursor:default}.c1e5jt0b700-canary49 .cc79ydj700-canary49{border-color:var(--checkbox-disabled-border-color);background-color:var(--checkbox-disabled-background-color)}'),f(".gch972y700-canary49{outline:none}.cz2qf0d700-canary49{margin-left:4px;stroke:currentColor;stroke-width:1.5px;fill:transparent;vertical-align:middle}.cz2qf0d700-canary49>path{transition:d .1s}");const y=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Insert","ContextMenu","Escape","Pause","Play","PrintScreen","F1","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"]);function v(e){return(e.ctrlKey||e.metaKey)&&"Control"!==e.key}function b({key:e,target:o}){return"Tab"===e&&(o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement||o instanceof HTMLSelectElement)&&o.matches(".rdg-editor-container > :only-child, .rdg-editor-container > label:only-child > :only-child")}function C({selectedPosition:e,columns:o,rows:r,isGroupRow:t}){const n=o[e.idx],i=r[e.rowIdx];return!t(i)&&I(n,i)}function I(e,o){return null!=e.editor&&!e.rowGroup&&!1!==("function"==typeof e.editable?e.editable(o):e.editable)}const{min:R,max:k,floor:S,ceil:E,sign:j}=Math;function O(e){if("function"!=typeof e)throw new Error("Please specify the rowKeyGetter prop to use selection")}function z(e,o){return{gridColumnStart:e.idx+1,gridColumnEnd:void 0!==o?`span ${o}`:void 0,left:e.frozen?`var(--frozen-left-${e.key})`:void 0}}function T(e,...o){return a("rdg-cell c1wupbe700-canary49",...o,e.frozen&&"rdg-cell-frozen cd0kgiy700-canary49",e.isLastFrozenColumn&&"rdg-cell-frozen-last c1730fa4700-canary49")}const L="select-row";function D({key:e,width:o},r,t){return r.has(e)?r.get(e):"number"==typeof o?o:"string"==typeof o&&/^\d+%$/.test(o)?S(t*parseInt(o,10)/100):void 0}function P(e,{minWidth:o,maxWidth:r},t){return e=k(e,null!=o?o:t),"number"==typeof r?R(e,r):e}function M(e){const o=(0,l.useRef)(e);return(0,l.useEffect)((()=>{o.current=e})),(0,l.useCallback)(((...e)=>{o.current(...e)}),[])}const N=(0,l.createContext)(void 0).Provider,F=(0,l.createContext)(void 0).Provider;function A({onSort:e,sortDirection:o,priority:r,children:t}){let n="";return"ASC"===o?n="▲":"DESC"===o&&(n="▼"),(0,s.jsxs)("span",{className:"rdg-header-sort-cell h13yq3r8700-canary49",onClick:o=>e(o.ctrlKey),children:[(0,s.jsx)("span",{className:"rdg-header-sort-name ht6rdyl700-canary49",children:t}),(0,s.jsxs)("span",{children:[n,r]})]})}function G({column:e,colSpan:o,onResize:r,allRowsSelected:t,onAllRowsSelectionChange:n,sortColumns:i,onSortColumnsChange:l}){const c=null==i?void 0:i.findIndex((o=>o.columnKey===e.key)),a=void 0!==c&&c>-1?i[c]:void 0,d=null==a?void 0:a.direction,u=void 0!==a&&i.length>1?c+1:void 0,p=d&&!u?"ASC"===d?"ascending":"descending":void 0,f=o=>{if(null==l)return;const{sortDescendingFirst:r}=e;if(void 0===a){const t={columnKey:e.key,direction:r?"DESC":"ASC"};l(i&&o?[...i,t]:[t])}else{let t;if((r&&"DESC"===d||!r&&"ASC"===d)&&(t={columnKey:e.key,direction:"ASC"===d?"DESC":"ASC"}),o){const e=[...i];t?e[c]=t:e.splice(c,1),l(e)}else l(t?[t]:[])}},h=T(e,e.headerCellClass,e.resizable&&"rdg-cell-resizable celq7o9700-canary49");return(0,s.jsx)("div",{role:"columnheader","aria-colindex":e.idx+1,"aria-sort":p,"aria-colspan":o,className:h,style:z(e,o),onPointerDown:e.resizable?function(o){if("mouse"===o.pointerType&&1!==o.buttons)return;const{currentTarget:t,pointerId:n}=o,{right:i}=t.getBoundingClientRect(),l=i-o.clientX;function c(o){if(o.pointerId!==n)return;if("mouse"===o.pointerType&&1!==o.buttons)return void a(o);const i=o.clientX+l-t.getBoundingClientRect().left;i>0&&r(e,i)}function a(e){e.pointerId===n&&(window.removeEventListener("pointermove",c),window.removeEventListener("pointerup",a))}l>11||(o.preventDefault(),window.addEventListener("pointermove",c),window.addEventListener("pointerup",a))}:void 0,children:e.headerRenderer?(0,s.jsx)(e.headerRenderer,{column:e,sortDirection:d,priority:u,onSort:f,allRowsSelected:t,onAllRowsSelectionChange:n}):e.sortable?(0,s.jsx)(A,{onSort:f,sortDirection:d,priority:u,children:e.name}):e.name})}function K({columns:e,rows:o,rowKeyGetter:r,onSelectedRowsChange:t,allRowsSelected:n,onColumnResize:i,sortColumns:c,onSortColumnsChange:a,lastFrozenColumnIndex:d}){const u=(0,l.useCallback)((e=>{if(!t)return;O(r);const n=new Set(e?o.map(r):void 0);t(n)}),[t,o,r]),p=[];for(let o=0;o<e.length;o++){const r=e[o],t=x(r,d,{type:"HEADER"});void 0!==t&&(o+=t-1),p.push((0,s.jsx)(G,{column:r,colSpan:t,onResize:i,allRowsSelected:n,onAllRowsSelectionChange:u,onSortColumnsChange:a,sortColumns:c},r.key))}return(0,s.jsx)("div",{role:"row","aria-rowindex":1,className:"rdg-header-row h1fquj5h700-canary49",children:p})}f(".h13yq3r8700-canary49{cursor:pointer;display:flex}.ht6rdyl700-canary49{flex-grow:1;overflow:hidden;overflow:clip;text-overflow:ellipsis}"),f('.celq7o9700-canary49:after{content:"";cursor:col-resize;position:absolute;top:0;right:0;bottom:0;width:10px}');const H=(0,l.memo)(K);function _({className:e,column:o,colSpan:r,isCellSelected:t,isCopied:n,isDraggedOver:i,row:l,rowIdx:c,dragHandleProps:a,onRowClick:d,onClick:u,onDoubleClick:p,onContextMenu:f,onRowChange:h,selectCell:w,...g},m){const{cellClass:x}=o;function y(e){w({idx:o.idx,rowIdx:c},e)}return e=T(o,"function"==typeof x?x(l):x,e,n&&"rdg-cell-copied ccpfvsn700-canary49",i&&"rdg-cell-dragged-over c1bmg16t700-canary49"),(0,s.jsx)("div",{role:"gridcell","aria-colindex":o.idx+1,"aria-selected":t,"aria-colspan":r,"aria-readonly":!I(o,l)||void 0,ref:m,className:e,style:z(o,r),onClick:function(e){var r;y(null==(r=o.editorOptions)?void 0:r.editOnClick),null==d||d(c,l,o),null==u||u(e)},onDoubleClick:function(e){y(!0),null==p||p(e)},onContextMenu:function(e){y(),null==f||f(e)},...g,children:!o.rowGroup&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.formatter,{column:o,rowIdx:c,row:l,isCellSelected:t,onRowChange:function(e){h(c,e)}}),a&&(0,s.jsx)("div",{className:"rdg-cell-drag-handle c12t67zz700-canary49",...a})]})})}f(".c1bmg16t700-canary49,.ccpfvsn700-canary49{background-color:#ccf}.c1bmg16t700-canary49.ccpfvsn700-canary49{background-color:#99f}.c12t67zz700-canary49{cursor:move;position:absolute;right:0;bottom:0;width:8px;height:8px;background-color:var(--selection-color)}.c12t67zz700-canary49:hover{width:16px;height:16px;border:2px solid var(--selection-color);background-color:var(--background-color)}");const W=(0,l.memo)((0,l.forwardRef)(_));function B({column:e,colSpan:o,row:r,rowIdx:t,onRowChange:n,onClose:i,onKeyDown:c,editorPortalTarget:a}){const d=(0,l.useRef)(),u=M((()=>{n(r,!0)}));function f(){cancelAnimationFrame(d.current)}(0,l.useEffect)((()=>{function e(){d.current=requestAnimationFrame(u)}return addEventListener("mousedown",e,{capture:!0}),()=>{removeEventListener("mousedown",e,{capture:!0}),f()}}),[u]);const{cellClass:h}=e,w=T(e,"rdg-editor-container c1tngyp1700-canary49","function"==typeof h?h(r):h);let g;var m;return null!=e.editor&&(g=(0,s.jsx)(e.editor,{column:e,row:r,rowIdx:t,onRowChange:n,onClose:i,editorPortalTarget:a}),null!=(m=e.editorOptions)&&m.createPortal&&(g=(0,p.createPortal)(g,a))),(0,s.jsx)("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-selected":!0,className:w,style:z(e,o),onKeyDown:c,onMouseDownCapture:f,children:g})}function U({cellRenderer:e,className:o,rowIdx:r,isRowSelected:t,copiedCellIdx:n,draggedOverCellIdx:i,lastFrozenColumnIndex:l,row:c,viewportColumns:d,selectedCellProps:u,onRowClick:p,rowClass:f,setDraggedOverRowIdx:g,onMouseEnter:m,top:y,height:v,onRowChange:b,selectCell:C,...I},R){o=a(w,"rdg-row-"+(r%2==0?"even":"odd"),null==f?void 0:f(c),o,-1===(null==u?void 0:u.idx)&&h);const k=null!=e?e:W,S=[];for(let e=0;e<d.length;e++){const o=d[e],t=x(o,l,{type:"ROW",row:c});void 0!==t&&(e+=t-1);const a=(null==u?void 0:u.idx)===o.idx;"EDIT"===(null==u?void 0:u.mode)&&a?S.push((0,s.jsx)(B,{rowIdx:r,column:o,colSpan:t,onKeyDown:u.onKeyDown,...u.editorProps},o.key)):S.push((0,s.jsx)(k,{rowIdx:r,column:o,colSpan:t,row:c,isCopied:n===o.idx,isDraggedOver:i===o.idx,isCellSelected:a,dragHandleProps:a?u.dragHandleProps:void 0,onFocus:a?u.onFocus:void 0,onKeyDown:a?u.onKeyDown:void 0,onRowClick:p,onRowChange:b,selectCell:C},o.key))}return(0,s.jsx)(N,{value:t,children:(0,s.jsx)("div",{role:"row",ref:R,className:o,onMouseEnter:function(e){null==g||g(r),null==m||m(e)},style:{top:y,"--row-height":`${v}px`},...I,children:S})})}f(".c1tngyp1700-canary49{padding:0}");const V=(0,l.memo)((0,l.forwardRef)(U));function $({id:e,rowIdx:o,groupKey:r,childRows:t,isExpanded:n,isCellSelected:i,column:l,groupColumnIndex:c,toggleGroup:a}){function d(){a(e)}const u=l.rowGroup&&c===l.idx;return(0,s.jsx)("div",{role:"gridcell","aria-colindex":l.idx+1,className:T(l),style:{...z(l),cursor:u?"pointer":"default"},onClick:u?d:void 0,children:(!l.rowGroup||c===l.idx)&&l.groupFormatter&&(0,s.jsx)(l.groupFormatter,{rowIdx:o,groupKey:r,childRows:t,column:l,isExpanded:n,isCellSelected:i,toggleGroup:d})},l.key)}const q=(0,l.memo)($);function J({id:e,groupKey:o,viewportColumns:r,childRows:t,rowIdx:n,top:i,height:l,level:c,isExpanded:d,selectedCellIdx:u,isRowSelected:p,selectCell:f,toggleGroup:g,...m}){const x=r[0].key===L?c+1:c;return(0,s.jsx)(N,{value:p,children:(0,s.jsx)("div",{role:"row","aria-level":c,"aria-expanded":d,className:a(w,"rdg-group-row g1cvx5us700-canary49","rdg-row-"+(n%2==0?"even":"odd"),-1===u&&h),onClick:function(){f({rowIdx:n,idx:-1})},style:{top:i,"--row-height":`${l}px`},...m,children:r.map((r=>(0,s.jsx)(q,{id:e,rowIdx:n,groupKey:o,childRows:t,isExpanded:d,isCellSelected:u===r.idx,column:r,groupColumnIndex:x,toggleGroup:g},r.key)))})})}const Y=(0,l.memo)(J);function Z({column:e,colSpan:o,row:r}){const{summaryFormatter:t,summaryCellClass:n}=e,i=T(e,"function"==typeof n?n(r):n);return(0,s.jsx)("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-colspan":o,className:i,style:z(e,o),children:t&&(0,s.jsx)(t,{column:e,row:r})})}const X=(0,l.memo)(Z);function Q({rowIdx:e,row:o,viewportColumns:r,bottom:t,lastFrozenColumnIndex:n,"aria-rowindex":i}){const l=[];for(let e=0;e<r.length;e++){const t=r[e],i=x(t,n,{type:"SUMMARY",row:o});void 0!==i&&(e+=i-1),l.push((0,s.jsx)(X,{column:t,colSpan:i,row:o},t.key))}return(0,s.jsx)("div",{role:"row","aria-rowindex":i,className:`${w} rdg-row-${e%2==0?"even":"odd"} rdg-summary-row sel5gk2700-canary49`,style:{bottom:t},children:l})}const ee=(0,l.memo)(Q);var oe;const re=null==(oe=globalThis.document)?void 0:oe.body,te={idx:-1,rowIdx:-1,mode:"SELECT"};function ne({columns:e,rows:o,summaryRows:r,rowKeyGetter:t,onRowsChange:n,rowHeight:i,headerRowHeight:c,summaryRowHeight:d,selectedRows:u,onSelectedRowsChange:p,sortColumns:f,onSortColumnsChange:h,defaultColumnOptions:w,groupBy:I,rowGrouper:z,expandedGroupIds:T,onExpandedGroupIdsChange:N,rowRenderer:A,emptyRowsRenderer:G,onRowClick:K,onScroll:_,onColumnResize:W,onSelectedCellChange:B,onFill:U,onPaste:$,cellNavigationMode:q,enableVirtualization:J,editorPortalTarget:Z,className:X,style:Q,rowClass:oe,"aria-label":ne,"aria-labelledby":ie,"aria-describedby":le},ce){var ae;null!=i||(i=35);const se=null!=c?c:"number"==typeof i?i:35,de=null!=d?d:"number"==typeof i?i:35,ue=null!=A?A:V,pe=null!=q?q:"NONE";null!=J||(J=!0);const fe=null!=Z?Z:re,[he,we]=(0,l.useState)(0),[ge,me]=(0,l.useState)(0),[xe,ye]=(0,l.useState)((()=>new Map)),[ve,be]=(0,l.useState)(te),[Ce,Ie]=(0,l.useState)(null),[Re,ke]=(0,l.useState)(!1),[Se,Ee]=(0,l.useState)(void 0),je=(0,l.useRef)(null),Oe=(0,l.useRef)(ve),ze=(0,l.useRef)(Se),Te=(0,l.useRef)(-1),Le=(0,l.useRef)(!1),De=M((function({rowIdx:e,checked:o,isShiftClick:r}){if(!p)return;O(t);const n=new Set(u),i=ro[e];if(io(i)){for(const e of i.childRows){const r=t(e);o?n.add(r):n.delete(r)}return void p(n)}const l=t(i);if(o){n.add(l);const o=Te.current;if(Te.current=e,r&&-1!==o&&o!==e){const r=j(e-o);for(let i=o+r;i!==e;i+=r){const e=ro[i];io(e)||n.add(t(e))}}}else n.delete(l),Te.current=-1;p(n)})),Pe=M(jo),Me=M(go),Ne=M(vo),[Fe,Ae,Ge]=function(){const e=(0,l.useRef)(null),[o,r]=(0,l.useState)(1),[t,n]=(0,l.useState)(1);return(0,l.useLayoutEffect)((()=>{const{ResizeObserver:o}=window;if(null==o)return;const t=new o((()=>{const{clientWidth:o,clientHeight:t}=e.current;r(o-(devicePixelRatio%.5==0?0:1)),n(t)}));return t.observe(e.current),()=>{t.disconnect()}}),[]),[e,o,t]}(),Ke=null!=(ae=null==r?void 0:r.length)?ae:0,He=Ge-se-Ke*de,_e=null!=u&&null!=p,We=(0,l.useMemo)((()=>{const{length:e}=o;return 0!==e&&null!=u&&null!=t&&u.size>=e&&o.every((e=>u.has(t(e))))}),[o,u,t]),{columns:Be,colSpanColumns:Ue,colOverscanStartIdx:Ve,colOverscanEndIdx:$e,layoutCssVars:qe,columnMetrics:Je,totalColumnWidth:Ye,lastFrozenColumnIndex:Ze,totalFrozenColumnWidth:Xe,groupBy:Qe}=function({rawColumns:e,columnWidths:o,viewportWidth:r,scrollLeft:t,defaultColumnOptions:n,rawGroupBy:i,enableVirtualization:c}){var a,s,d,u;const p=null!=(a=null==n?void 0:n.minWidth)?a:80,f=null!=(s=null==n?void 0:n.formatter)?s:g,h=null!=(d=null==n?void 0:n.sortable)&&d,w=null!=(u=null==n?void 0:n.resizable)&&u,{columns:x,colSpanColumns:y,lastFrozenColumnIndex:v,groupBy:b}=(0,l.useMemo)((()=>{const o=[];let r=-1;const t=e.map((e=>{var o,t,n,l;const c=null!=(o=null==i?void 0:i.includes(e.key))&&o,a=c||e.frozen||!1,s={...e,idx:0,frozen:a,isLastFrozenColumn:!1,rowGroup:c,sortable:null!=(t=e.sortable)?t:h,resizable:null!=(n=e.resizable)?n:w,formatter:null!=(l=e.formatter)?l:f};return c&&(null!=s.groupFormatter||(s.groupFormatter=m)),a&&r++,s}));t.sort((({key:e,frozen:o},{key:r,frozen:t})=>e===L?-1:r===L?1:null!=i&&i.includes(e)?i.includes(r)?i.indexOf(e)-i.indexOf(r):-1:null!=i&&i.includes(r)?1:o?t?0:-1:t?1:0));const n=[];return t.forEach(((e,r)=>{e.idx=r,e.rowGroup&&o.push(e.key),null!=e.colSpan&&n.push(e)})),-1!==r&&(t[r].isLastFrozenColumn=!0),{columns:t,colSpanColumns:n,lastFrozenColumnIndex:r,groupBy:o}}),[e,f,w,h,i]),{layoutCssVars:C,totalColumnWidth:I,totalFrozenColumnWidth:S,columnMetrics:E}=(0,l.useMemo)((()=>{const e=new Map;let t=0,n=0,i=0,l="",c=0,a=0;for(const t of x){let n=D(t,o,r);void 0===n?a++:(n=P(n,t,p),c+=n,e.set(t,{width:n,left:0}))}const s=(r-c)/a;for(const o of x){let r;if(e.has(o)){const n=e.get(o);n.left=t,({width:r}=n)}else r=P(s,o,p),e.set(o,{width:r,left:t});n+=r,t+=r,l+=`${r}px `}if(-1!==v){const o=e.get(x[v]);i=o.left+o.width}const d={"--template-columns":l};for(let o=0;o<=v;o++){const r=x[o];d[`--frozen-left-${r.key}`]=`${e.get(r).left}px`}return{layoutCssVars:d,totalColumnWidth:n,totalFrozenColumnWidth:i,columnMetrics:e}}),[o,x,r,p,v]),[j,O]=(0,l.useMemo)((()=>{if(!c)return[0,x.length-1];const e=t+S,o=t+r,n=x.length-1,i=R(v+1,n);if(e>=o)return[i,i];let l=i;for(;l<n;){const{left:o,width:r}=E.get(x[l]);if(o+r>e)break;l++}let a=l;for(;a<n;){const{left:e,width:r}=E.get(x[a]);if(e+r>=o)break;a++}return[k(i,l-1),R(n,a+1)]}),[E,x,v,t,S,r,c]);return{columns:x,colSpanColumns:y,colOverscanStartIdx:j,colOverscanEndIdx:O,layoutCssVars:C,columnMetrics:E,totalColumnWidth:I,lastFrozenColumnIndex:v,totalFrozenColumnWidth:S,groupBy:b}}({rawColumns:e,columnWidths:xe,scrollLeft:ge,viewportWidth:Ae,defaultColumnOptions:w,rawGroupBy:z?I:void 0,enableVirtualization:J}),{rowOverscanStartIdx:eo,rowOverscanEndIdx:oo,rows:ro,rowsCount:to,totalRowHeight:no,isGroupRow:io,getRowTop:lo,getRowHeight:co,findRowIdx:ao}=function({rawRows:e,rowHeight:o,clientHeight:r,scrollTop:t,groupBy:n,rowGrouper:i,expandedGroupIds:c,enableVirtualization:a}){const[s,d]=(0,l.useMemo)((()=>{if(0===n.length||null==i)return[void 0,e.length];const o=(e,[r,...t],n)=>{let l=0;const c={};for(const[a,s]of Object.entries(i(e,r))){const[e,r]=0===t.length?[s,s.length]:o(s,t,n+l+1);c[a]={childRows:s,childGroups:e,startRowIndex:n+l},l+=r+1}return[c,l]};return o(e,n,0)}),[n,i,e]),[u,p]=(0,l.useMemo)((()=>{const o=new Set;if(!s)return[e,n];const r=[],t=(e,n,i)=>{var l;l=e,Array.isArray(l)?r.push(...e):Object.keys(e).forEach(((l,a,s)=>{var d;const u=void 0!==n?`${n}__${l}`:l,p=null!=(d=null==c?void 0:c.has(u))&&d,{childRows:f,childGroups:h,startRowIndex:w}=e[l],g={id:u,parentId:n,groupKey:l,isExpanded:p,childRows:f,level:i,posInSet:a,startRowIndex:w,setSize:s.length};r.push(g),o.add(g),p&&t(h,u,i+1)}))};return t(s,void 0,0),[r,n];function n(e){return o.has(e)}}),[c,s,e]),{totalRowHeight:f,getRowTop:h,getRowHeight:w,findRowIdx:g}=(0,l.useMemo)((()=>{if("number"==typeof o)return{totalRowHeight:o*u.length,getRowTop:e=>e*o,getRowHeight:()=>o,findRowIdx:e=>S(e/o)};let e=0;const r=u.map((r=>{const t=p(r)?o({type:"GROUP",row:r}):o({type:"ROW",row:r}),n={top:e,height:t};return e+=t,n})),t=e=>k(0,R(u.length-1,e));return{totalRowHeight:e,getRowTop:e=>r[t(e)].top,getRowHeight:e=>r[t(e)].height,findRowIdx(e){let o=0,t=r.length-1;for(;o<=t;){const n=o+S((t-o)/2),i=r[n].top;if(i===e)return n;if(i<e?o=n+1:i>e&&(t=n-1),o>t)return t}return 0}}}),[p,o,u]);if(!a)return{rowOverscanStartIdx:0,rowOverscanEndIdx:u.length-1,rows:u,rowsCount:d,totalRowHeight:f,isGroupRow:p,getRowTop:h,getRowHeight:w,findRowIdx:g};const m=g(t),x=R(u.length-1,g(t+r));return{rowOverscanStartIdx:k(0,8*S((m-4)/8)),rowOverscanEndIdx:R(u.length-1,8*E((x+4)/8)),rows:u,rowsCount:d,totalRowHeight:f,isGroupRow:p,getRowTop:h,getRowHeight:w,findRowIdx:g}}({rawRows:o,groupBy:Qe,rowGrouper:z,rowHeight:i,clientHeight:He,scrollTop:he,expandedGroupIds:T,enableVirtualization:J}),so=function({columns:e,colSpanColumns:o,rows:r,summaryRows:t,colOverscanStartIdx:n,colOverscanEndIdx:i,lastFrozenColumnIndex:c,rowOverscanStartIdx:a,rowOverscanEndIdx:s,isGroupRow:d}){const u=(0,l.useMemo)((()=>{if(0===n)return 0;let e=n;const i=(o,r)=>void 0!==r&&o+r>n&&(e=o,!0);for(const n of o){const o=n.idx;if(o>=e)break;if(i(o,x(n,c,{type:"HEADER"})))break;for(let e=a;e<=s;e++){const t=r[e];if(!d(t)&&i(o,x(n,c,{type:"ROW",row:t})))break}if(null!=t)for(const e of t)if(i(o,x(n,c,{type:"SUMMARY",row:e})))break}return e}),[a,s,r,t,n,c,o,d]);return(0,l.useMemo)((()=>{const o=[];for(let r=0;r<=i;r++){const t=e[r];r<u&&!t.frozen||o.push(t)}return o}),[u,i,e])}({columns:Be,colSpanColumns:Ue,colOverscanStartIdx:Ve,colOverscanEndIdx:$e,lastFrozenColumnIndex:Ze,rowOverscanStartIdx:eo,rowOverscanEndIdx:oo,rows:ro,summaryRows:r,isGroupRow:io}),uo=Qe.length>0&&"function"==typeof z,po=uo?-1:0,fo=!uo&&null!=U;(0,l.useLayoutEffect)((()=>{ve!==Oe.current&&"EDIT"!==ve.mode&&So(ve)&&(Oe.current=ve,zo(ve),Le.current?Le.current=!1:je.current.focus({preventScroll:!0}))})),(0,l.useImperativeHandle)(ce,(()=>({element:Fe.current,scrollToColumn(e){zo({idx:e})},scrollToRow(e){const{current:o}=Fe;o&&o.scrollTo({top:lo(e),behavior:"smooth"})},selectCell:jo})));const ho=(0,l.useCallback)(((e,o)=>{ye((r=>{const t=new Map(r);return t.set(e.key,o),t})),null==W||W(e.idx,o)}),[W]),wo=(0,l.useCallback)((e=>{Ee(e),ze.current=e}),[]);function go(e){if(!N)return;const o=new Set(T);o.has(e)?o.delete(e):o.add(e),N(o)}function mo(e){const{key:r,keyCode:t}=e,i=ro[ve.rowIdx];if($&&v(e)&&So(ve)&&!io(i)&&-1!==ve.idx&&"SELECT"===ve.mode){const e=86;if(67===t)return void function(){const{idx:e,rowIdx:r}=ve;Ie({row:o[yo(r)],columnKey:Be[e].key})}();if(t===e)return void function(){const{idx:e,rowIdx:r}=ve,t=o[yo(r)];if(!$||!n||null===Ce||!Eo(ve))return;vo(r,$({sourceRow:Ce.row,sourceColumnKey:Ce.columnKey,targetRow:t,targetColumnKey:Be[e].key}))}()}if(So(ve)&&io(i)&&-1===ve.idx&&("ArrowLeft"===r&&i.isExpanded||"ArrowRight"===r&&!i.isExpanded))return e.preventDefault(),void go(i.id);switch(e.key){case"Escape":return Ie(null),void Oo();case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Tab":case"Home":case"End":case"PageUp":case"PageDown":!function(e){var o,r;if("EDIT"===ve.mode&&!(null!=(o=null==(r=Be[ve.idx].editorOptions)?void 0:r.onNavigation)?o:b)(e))return;const{key:t,shiftKey:n}=e;let i=pe;if("Tab"===t){if(function({cellNavigationMode:e,columns:o,rowsCount:r,selectedPosition:{rowIdx:t,idx:n},shiftKey:i}){if("NONE"===e||"CHANGE_ROW"===e){const e=n===o.length-1,l=0===n,c=t===r-1,a=0===t;return i?l&&a:e&&c}return!1}({shiftKey:n,cellNavigationMode:pe,columns:Be,rowsCount:ro.length,selectedPosition:ve}))return void bo();i="NONE"===pe?"CHANGE_ROW":pe}e.preventDefault();const l=v(e);jo(function({cellNavigationMode:e,columns:o,colSpanColumns:r,rows:t,currentPosition:n,nextPosition:i,lastFrozenColumnIndex:l,isCellWithinBounds:c,isGroupRow:a}){const s=t.length;let d=i;const u=e=>{const o=t[d.rowIdx];if(!a(o)){const t=d.idx;for(const n of r){const r=n.idx;if(r>t)break;const i=x(n,l,{type:"ROW",row:o});if(i&&t>r&&t<i+r){d.idx=r+(e?i:0);break}}}};if(c(d)&&u(d.idx-n.idx>0),"NONE"!==e){const{idx:r,rowIdx:t}=i,n=o.length,l=-1===r;r===n?("CHANGE_ROW"===e?t===s-1||(d={idx:0,rowIdx:t+1}):d={rowIdx:t,idx:0},u(!0)):l&&("CHANGE_ROW"===e?0===t||(d={rowIdx:t-1,idx:n-1}):d={rowIdx:t,idx:n-1}),u(!1)}return d}({columns:Be,colSpanColumns:Ue,rows:ro,lastFrozenColumnIndex:Ze,cellNavigationMode:i,currentPosition:ve,nextPosition:To(t,l,n),isCellWithinBounds:So,isGroupRow:io}))}(e);break;default:!function(e){var o;if(!So(ve))return;const r=ro[ve.rowIdx];if(io(r))return;const{key:t}=e,n=Be[ve.idx];"EDIT"!==ve.mode?(null==(o=n.editorOptions)||null==o.onCellKeyDown||o.onCellKeyDown(e),e.isDefaultPrevented()||Eo(ve)&&function(e){return!y.has(e.key)}(e)&&be((({idx:e,rowIdx:o})=>({idx:e,rowIdx:o,key:t,mode:"EDIT",row:r,originalRow:r})))):"Enter"===t&&(bo(),Oo())}(e)}}function xo(){Le.current=!0}function yo(e){return uo?o.indexOf(ro[e]):e}function vo(e,r){if("function"!=typeof n)return;if(r===o[e])return;const t=[...o];t[e]=r,n(t,{indexes:[e],column:Be[ve.idx]})}function bo(){var e;null!=(null==(e=Be[ve.idx])?void 0:e.editor)&&"SELECT"!==ve.mode&&ve.row!==ve.originalRow&&vo(yo(ve.rowIdx),ve.row)}function Co(e){function r(e){1!==e.buttons&&t()}function t(){window.removeEventListener("mouseover",r),window.removeEventListener("mouseup",t),ke(!1),function(){const e=ze.current;if(void 0===e||!U||!n)return;const{idx:r,rowIdx:t}=ve,i=o[t],l=t<e?t+1:e,c=t<e?e+1:t,a=o.slice(l,c),s=Be[r],d=U({columnKey:s.key,sourceRow:i,targetRows:a}),u=[...o],p=[];for(let e=l;e<c;e++){const o=e-l;u[e]!==d[o]&&(u[e]=d[o],p.push(e))}p.length>0&&n(u,{indexes:p,column:s}),wo(void 0)}()}1===e.buttons&&(ke(!0),window.addEventListener("mouseover",r),window.addEventListener("mouseup",t))}function Io(e){if(e.stopPropagation(),!U||!n)return;const{idx:r,rowIdx:t}=ve,i=o[t],l=o.slice(t+1),c=Be[r],a=U({columnKey:c.key,sourceRow:i,targetRows:l}),s=[...o],d=[];for(let e=t+1;e<s.length;e++){const o=e-t-1;s[e]!==a[o]&&(s[e]=a[o],d.push(e))}d.length>0&&n(s,{indexes:d,column:c})}function Ro(e,o){"SELECT"!==ve.mode&&(o?(vo(yo(ve.rowIdx),e),Oo()):be((o=>({...o,row:e}))))}function ko(e){e&&bo(),Oo()}function So({idx:e,rowIdx:o}){return o>=0&&o<ro.length&&e>=po&&e<Be.length}function Eo(e){return So(e)&&C({columns:Be,rows:ro,selectedPosition:e,isGroupRow:io})}function jo(e,o){if(So(e)){if(bo(),o&&Eo(e)){const o=ro[e.rowIdx];be({...e,mode:"EDIT",key:null,row:o,originalRow:o})}else be({...e,mode:"SELECT"});null==B||B({...e})}}function Oo(){"SELECT"!==ve.mode&&be((({idx:e,rowIdx:o})=>({idx:e,rowIdx:o,mode:"SELECT"})))}function zo({idx:e,rowIdx:o}){const{current:r}=Fe;if(r){if("number"==typeof e&&e>Ze){if(null!=o||(o=ve.rowIdx),!So({rowIdx:o,idx:e}))return;const{clientWidth:t}=r,n=Be[e],{left:i,width:l}=Je.get(n);let c=i+l;const a=ro[o];if(!io(a)){const e=x(n,Ze,{type:"ROW",row:a});if(void 0!==e){const{left:o,width:r}=Je.get(Be[n.idx+e-1]);c=o+r}}const s=c>t+ge;i<ge+Xe?r.scrollLeft=i-Xe:s&&(r.scrollLeft=c-t)}if("number"==typeof o){const e=lo(o),t=co(o);e<he?r.scrollTop=e:e+t>he+He&&(r.scrollTop=e+t-He)}}}function To(e,o,r){const{idx:t,rowIdx:n}=ve,i=ro[n],l=So(ve)&&-1===t;if("ArrowLeft"===e&&l&&io(i)&&!i.isExpanded&&0!==i.level){let e=-1;for(let o=ve.rowIdx-1;o>=0;o--){const r=ro[o];if(io(r)&&r.id===i.parentId){e=o;break}}if(-1!==e)return{idx:t,rowIdx:e}}switch(e){case"ArrowUp":return{idx:t,rowIdx:n-1};case"ArrowDown":return{idx:t,rowIdx:n+1};case"ArrowLeft":return{idx:t-1,rowIdx:n};case"ArrowRight":return{idx:t+1,rowIdx:n};case"Tab":return-1===ve.idx&&-1===ve.rowIdx?r?{idx:Be.length-1,rowIdx:ro.length-1}:{idx:0,rowIdx:0}:{idx:t+(r?-1:1),rowIdx:n};case"Home":return l?{idx:t,rowIdx:0}:o?{idx:0,rowIdx:0}:{idx:0,rowIdx:n};case"End":return l?{idx:t,rowIdx:ro.length-1}:o?{idx:Be.length-1,rowIdx:ro.length-1}:{idx:Be.length-1,rowIdx:n};case"PageUp":{const e=lo(n)+co(n)-He;return{idx:t,rowIdx:e>0?ao(e):0}}case"PageDown":{const e=lo(n)+He;return{idx:t,rowIdx:e<no?ao(e):ro.length-1}}default:return ve}}function Lo(e){if(void 0===Se)return;const{rowIdx:o}=ve;return(o<Se?o<e&&e<=Se:o>e&&e>=Se)?ve.idx:void 0}function Do(e){if(ve.rowIdx===e)return"EDIT"===ve.mode?{mode:"EDIT",idx:ve.idx,onKeyDown:mo,editorProps:{editorPortalTarget:fe,row:ve.row,onRowChange:Ro,onClose:ko}}:{mode:"SELECT",idx:ve.idx,onFocus:xo,onKeyDown:mo,dragHandleProps:fo&&Eo(ve)?{onMouseDown:Co,onDoubleClick:Io}:void 0}}return(ve.idx>=Be.length||ve.rowIdx>=ro.length)&&(be(te),wo(void 0)),"EDIT"===ve.mode&&ro[ve.rowIdx]!==ve.originalRow&&Oo(),(0,s.jsxs)("div",{role:uo?"treegrid":"grid","aria-label":ne,"aria-labelledby":ie,"aria-describedby":le,"aria-multiselectable":!!_e||void 0,"aria-colcount":Be.length,"aria-rowcount":1+to+Ke,className:a("rdg r104f42s700-canary49",X,Re&&"rdg-viewport-dragging vc4f4zb700-canary49"),style:{...Q,"--header-row-height":`${se}px`,"--row-width":`${Ye}px`,"--summary-row-height":`${de}px`,...qe},ref:Fe,onScroll:function(e){const{scrollTop:o,scrollLeft:r}=e.currentTarget;we(o),me(r),null==_||_(e)},children:[(0,s.jsx)(H,{rowKeyGetter:t,rows:o,columns:so,onColumnResize:ho,allRowsSelected:We,onSelectedRowsChange:p,sortColumns:f,onSortColumnsChange:h,lastFrozenColumnIndex:Ze}),0===ro.length&&G?(0,s.jsx)(G,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{ref:je,tabIndex:0,className:"rdg-focus-sink f7ly7s700-canary49",onKeyDown:mo,onFocus:function(){if(So(ve))zo(ve);else{const e={idx:0,rowIdx:0,mode:"SELECT"};So(e)&&be(e)}}}),(0,s.jsx)("div",{style:{height:k(no,He)}}),(0,s.jsx)(F,{value:De,children:function(){const e=[];let o=0;for(let n=eo;n<=oo;n++){const i=ro[n],l=lo(n)+se;if(io(i)){({startRowIndex:o}=i);const r=_e&&i.childRows.every((e=>null==u?void 0:u.has(t(e))));e.push((0,s.jsx)(Y,{"aria-level":i.level+1,"aria-setsize":i.setSize,"aria-posinset":i.posInSet+1,"aria-rowindex":1+o+1,"aria-selected":_e?r:void 0,id:i.id,groupKey:i.groupKey,viewportColumns:so,childRows:i.childRows,rowIdx:n,top:l,height:co(n),level:i.level,isExpanded:i.isExpanded,selectedCellIdx:ve.rowIdx===n?ve.idx:void 0,isRowSelected:r,onFocus:ve.rowIdx===n?xo:void 0,onKeyDown:ve.rowIdx===n?mo:void 0,selectCell:Pe,toggleGroup:Me},i.id));continue}let c;o++;let a=!1;var r;"function"==typeof t?(c=t(i),a=null!=(r=null==u?void 0:u.has(c))&&r):c=uo?o:n,e.push((0,s.jsx)(ue,{"aria-rowindex":1+(uo?o:n)+1,"aria-selected":_e?a:void 0,rowIdx:n,row:i,viewportColumns:so,isRowSelected:a,onRowClick:K,rowClass:oe,top:l,height:co(n),copiedCellIdx:null!==Ce&&Ce.row===i?Be.findIndex((e=>e.key===Ce.columnKey)):void 0,draggedOverCellIdx:Lo(n),setDraggedOverRowIdx:Re?wo:void 0,lastFrozenColumnIndex:Ze,selectedCellProps:Do(n),onRowChange:Ne,selectCell:Pe},c))}return e}()}),null==r?void 0:r.map(((e,o)=>(0,s.jsx)(ee,{"aria-rowindex":1+to+o+1,rowIdx:o,row:e,bottom:de*(r.length-1-o),viewportColumns:so,lastFrozenColumnIndex:Ze},o)))]})]})}const ie=(0,l.forwardRef)(ne);f(".t16y9g8l700-canary49{appearance:none;box-sizing:border-box;width:100%;height:100%;padding:0 6px;border:2px solid #ccc;vertical-align:top;color:var(--color);background-color:var(--background-color);font-family:inherit;font-size:var(--font-size)}.t16y9g8l700-canary49:focus{border-color:var(--selection-color);outline:none}.t16y9g8l700-canary49::placeholder{color:#999;opacity:1}");const le=ie;var ce=d(93379),ae=d.n(ce),se=d(7795),de=d.n(se),ue=d(90569),pe=d.n(ue),fe=d(3565),he=d.n(fe),we=d(19216),ge=d.n(we),me=d(44589),xe=d.n(me),ye=d(84786),ve={};ve.styleTagTransform=xe(),ve.setAttributes=he(),ve.insert=pe().bind(null,"head"),ve.domAPI=de(),ve.insertStyleElement=ge(),ae()(ye.Z,ve),ye.Z&&ye.Z.locals&&ye.Z.locals;class be extends e.React.PureComponent{constructor(e){super(e),this.columns=[{name:"OBJECT ID",key:"OBJECTID"},{name:"Nome del parco",key:"PARK_NAME"},{name:"Nome del percorso",key:"TRL_NAME"},{name:"Città",key:"CITY_JUR"},{name:"Distretto",key:"SUP_DIST"}],this.rows=[],this.graphicLayer=new r.default({id:"visualizza_in_mappa"}),this.featureLayer=new n.default({url:"https://services3.arcgis.com/GVgbJbqm8hXASVYi/arcgis/rest/services/Trailheads_Styled/FeatureServer/0"}),this.draw=null,this.componentDidUpdate=()=>{"CLOSED"===this.props.state&&this.draw&&this.state.jmw.view.ui.remove(this.draw)},this.activeViewChangeHandler=(e,o)=>{e&&(this.draw=new t.default({view:e.view,layer:this.graphicLayer,layout:"vertical",availableCreateTools:["polygon","rectangle","circle"]}),this.setState({jmw:e}),e.view.on("pointer-move",(o=>{var r=e.view.toMap({x:o.x,y:o.y});this.setState({x:r.x,y:r.y})})))},this.intesectLayer=()=>{var e=[];this.graphicLayer.graphics.forEach((o=>{return r=this,t=void 0,i=function*(){var r=yield this.featureLayer.queryFeatures({geometry:o.geometry,spatialRelationship:"contains",outFields:["PARK_NAME","OBJECTID","TRL_NAME","CITY_JUR","SUP_DIST"]});for(var t of r.features)e.push(t.attributes)},new((n=void 0)||(n=Promise))((function(e,o){function l(e){try{a(i.next(e))}catch(e){o(e)}}function c(e){try{a(i.throw(e))}catch(e){o(e)}}function a(o){var r;o.done?e(o.value):(r=o.value,r instanceof n?r:new n((function(e){e(r)}))).then(l,c)}a((i=i.apply(r,t||[])).next())}));var r,t,n,i})),this.setState({row:e})},this.changeActiveTool=(e,o)=>{!1===o?(this.state.jmw.view.ui.remove(this.draw),this.state.jmw.view.map.layers.remove(this.graphicLayer),this.state.jmw.view.map.remove(this.featureLayer)):(this.state.jmw.view.ui.add(this.draw,"bottom-right"),this.state.jmw.view.map.add(this.graphicLayer),this.state.jmw.view.map.add(this.featureLayer)),this.setState({activeTool:o})},this.rowKeyGetter=e=>e.OBJECTID,this.state={x:0,y:0,jmw:null,row:[],activeTool:!1}}render(){var r;return e.React.createElement("div",{id:"coustomWidget",className:"widget-demo jimu-widget m-2"},this.props.config.hasOwnProperty("useMapWidgetIds")&&this.props.config.useMapWidgetIds&&this.props.config.useMapWidgetIds[0]&&e.React.createElement(o.JimuMapViewComponent,{useMapWidgetId:null===(r=this.props.config.useMapWidgetIds)||void 0===r?void 0:r[0],onActiveViewChange:this.activeViewChangeHandler}),e.React.createElement("h1",null,"Intesect layer"),e.React.createElement("div",{className:"row m-0"},e.React.createElement(i.Button,{onClick:this.intesectLayer},"Intersect Layer"),e.React.createElement(i.Label,{className:"ml-2 mb-0 mt-2"},e.React.createElement(i.Switch,{className:"mr-1",checked:this.state.activeTool,onChange:this.changeActiveTool}),e.React.createElement("span",{className:"text-wrap"},"Abilita il disegno in mappa"))),e.React.createElement(i.Table,null),e.React.createElement("div",{className:"mt-2"},e.React.createElement(le,{rowKeyGetter:this.rowKeyGetter,defaultColumnOptions:{resizable:!0,minWidth:100},className:"grid rdg-light",columns:this.columns,rows:this.state.row})))}}})(),u})())}}}));